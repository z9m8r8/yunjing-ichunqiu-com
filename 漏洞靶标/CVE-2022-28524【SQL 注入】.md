## 1. 漏洞介绍
[阿里云漏洞库](https://avd.aliyun.com/detail?id=AVD-2022-28524)
## 2. 漏洞复现
### 2.1. SQL 注入获取 flag
根据漏洞提示，注入点在post.php页面，找找这个页面，有个登录操作，用弱口令可以进去【admin/admin】
![1.jpg](https://fastly.jsdelivr.net/gh/z9m8r8/PicGo-Notes-Pu/202309052102885.jpg)

![2.jpg](https://fastly.jsdelivr.net/gh/z9m8r8/PicGo-Notes-Pu/202309052102853.jpg)

尝试在id参数后加 and 1=1 和 and 1=2 测试，发现id参数存在注入，直接order by 测试列，后续 union 注入……
![3.jpg](https://fastly.jsdelivr.net/gh/z9m8r8/PicGo-Notes-Pu/202309052103030.jpg)

测试后没找到个 flag 表！用 sqlmap 直接尝试读取 flag

```python
python sqlmap.py -r post.txt --file-read "/flag" --dbms mysql --batch
```

![4.jpg](https://fastly.jsdelivr.net/gh/z9m8r8/PicGo-Notes-Pu/202309052101031.jpg)

### 2.2. 文件上传获取 flag
![5.jpg](https://fastly.jsdelivr.net/gh/z9m8r8/PicGo-Notes-Pu/202309052105781.jpg)

![6.jpg](https://fastly.jsdelivr.net/gh/z9m8r8/PicGo-Notes-Pu/202309052110418.jpg)
flag 在根目录下直接获取即可！
